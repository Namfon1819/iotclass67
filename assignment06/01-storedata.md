# Store data.

1. ข้อมูลที่เก็บไว้ใน MongoDB
MongoDB เหมาะกับการจัดเก็บข้อมูลที่มีโครงสร้างไม่ตายตัว (semi-structured data) และมีความยืดหยุ่นสูงสำหรับการวิเคราะห์ย้อนหลัง ข้อมูลที่เก็บไว้ใน MongoDB สามารถนำไปใช้สำหรับการวิเคราะห์ระยะยาวหรือการเรียกดูย้อนหลัง:

ข้อมูลดิบจากเซ็นเซอร์:
ข้อมูลที่ได้รับจากเซ็นเซอร์ทั้งหมด เช่น อุณหภูมิ, ความชื้น, ความดัน, ความสว่าง, ฯลฯ
รูปแบบ JSON ที่มีฟิลด์ต่าง ๆ เช่น sensor_id, place_id, timestamp, และ payload ที่มีรายละเอียดของเซ็นเซอร์แต่ละประเภท
ข้อมูลเมตริกที่ผ่านการ Aggregation:
ข้อมูลที่ได้รับการสรุปผลหรือวิเคราะห์เรียบร้อยแล้ว เช่น ค่าเฉลี่ย, ค่าต่ำสุด-สูงสุด, ค่าเบี่ยงเบนมาตรฐาน เป็นต้น (โดยอิงจากการวิเคราะห์ใน Aggregate Metrics By Sensor และ By Place)
ข้อมูลนี้จะถูกใช้สำหรับการวิเคราะห์เชิงลึกภายในองค์กร หรือใช้สำหรับการสร้างรายงานเชิงสถิติ
ข้อมูลการใช้งานในระยะยาว:
ข้อมูลที่เกี่ยวข้องกับการวิเคราะห์แนวโน้ม (trend) ในระยะยาวที่ต้องการจัดเก็บเพื่อวิเคราะห์ย้อนหลัง เช่น การวิเคราะห์ Time Series
สามารถนำข้อมูลเหล่านี้ไปใช้ในการวิเคราะห์เชิงพฤติกรรมในระยะเวลายาวนาน หรือใช้ในโมเดลการคาดการณ์อนาคต (Predictive Analytics)

2. ข้อมูลที่ส่งต่อให้ Prometheus
Prometheus เป็นระบบมอนิเตอร์ที่เหมาะสำหรับการเก็บข้อมูลเชิงเวลาสำหรับการตรวจสอบระบบและการแสดงผลใน real-time ข้อมูลที่ส่งต่อให้ Prometheus ควรเน้นไปที่เมตริกที่สำคัญสำหรับการตรวจสอบสถานะและประสิทธิภาพของระบบอย่างทันทีทันใด:

ข้อมูลสรุปเมตริกจากเซ็นเซอร์:
ข้อมูลสรุป เช่น ค่าเฉลี่ย, ค่าสูงสุด-ต่ำสุด, หรือค่าสถานะปัจจุบันของเซ็นเซอร์ที่เกี่ยวข้องกับสุขภาพของระบบ เช่น อุณหภูมิ, ความชื้น, ความดัน ฯลฯ
ข้อมูลเหล่านี้จะถูกส่งไปเป็นเวลาจริง (real-time) เพื่อตรวจสอบการทำงานของเซ็นเซอร์หรืออุปกรณ์ในระบบ
ข้อมูลสถานะและการทำงานของระบบ:
เช่น จำนวนการร้องขอ (requests), เวลาในการตอบสนอง (response time), และการใช้งานของ CPU หรือหน่วยความจำ
ข้อมูลเหล่านี้จะช่วยในการตรวจสอบประสิทธิภาพของระบบใน real-time และสามารถทำ alert เพื่อแจ้งเตือนเมื่อเกิดความผิดปกติได้
ข้อมูลเมตริกของการ Aggregation:
ข้อมูล Aggregation ที่ใช้เพื่อตรวจสอบแนวโน้มของเซ็นเซอร์ในระยะสั้น หรือแนวโน้มที่อาจเกิดการผิดปกติในทันที เช่น การเปลี่ยนแปลงของอุณหภูมิที่สูงขึ้นเร็ว ๆ ในช่วงเวลาหนึ่ง
